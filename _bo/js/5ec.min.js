function getURLParameter(a){return decodeURIComponent((new RegExp("[?|&]"+a+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[null,""])[1].replace(/\+/g,"%20"))||null}!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b:a.atomic=b(a)}(this,function(a){"use strict";var b={},c={contentType:"application/x-www-form-urlencoded"},d=function(a){var b;try{b=JSON.parse(a.responseText)}catch(c){b=a.responseText}return[b,a]},e=function(b,e,f){var g={success:function(){},error:function(){},always:function(){}},h=a.XMLHttpRequest||ActiveXObject,i=new h("MSXML2.XMLHTTP.3.0");i.open(b,e,!0),i.setRequestHeader("Content-type",c.contentType),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.onreadystatechange=function(){var a;4===i.readyState&&(a=d(i),i.status>=200&&i.status<300?g.success.apply(g,a):g.error.apply(g,a),g.always.apply(g,a))},i.send(f);var j={success:function(a){return g.success=a,j},error:function(a){return g.error=a,j},always:function(a){return g.always=a,j}};return j};return b.get=function(a){return e("GET",a)},b.put=function(a,b){return e("PUT",a,b)},b.post=function(a,b){return e("POST",a,b)},b["delete"]=function(a){return e("DELETE",a)},b.setContentType=function(a){c.contentType=a},b});var msgWindow=document.getElementsByClassName("msgWindow")[0],msgTitle=msgWindow.getElementsByClassName("msgWindowTitle")[0],msgContent=msgWindow.getElementsByClassName("msgWindowContent")[0],showMessage=function(a,b,c){msgWindow.className="msgWindow",msgWindow.classList.add("isOpen"),msgWindow.classList.add(a),msgTitle.innerHTML=b,msgContent.innerHTML=c};document.body.addEventListener("click",function(a){a.target.classList.contains("msgWindowTitle")||a.target.classList.contains("msgWindowContent")||msgWindow.classList.remove("isOpen")},!1);var closeMessage=function(a){msgWindow.classList.remove("isOpen")};msgWindow.getElementsByClassName("msgWindowClose")[0].addEventListener("click",closeMessage,!1);var serializeFormData=function(a){var b=a.querySelectorAll("input:not([type=submit]), textarea, select"),c="",d=0;return[].forEach.call(b,function(a){"checkbox"==a.type?c+=a.checked?a.name+"=true":a.name+"=false":"radio"==a.type?a.checked&&(c+=a.name+"="+a.value):c+=a.name+"="+a.value,d++<b.length-1&&(c+="&")}),c},copyInput=function(a,b,c,d){var e="";c&&(e+=c),e+=a.value,d&&(e+=d),b.value=e},validateInput=function(a,b){var c=a.value.replace(/[^\w-]/gi,"");return c};!function(){var a=function(a){var b;if("A"==a.target.nodeName&&(b=a.target),"I"==a.target.nodeName&&(b=a.target.parentNode),"A"==a.target.nodeName||"I"==a.target.nodeName){if("add"==b.dataset.action){a.preventDefault();var c=b.parentNode.parentNode.parentNode.parentNode,d=c.getElementsByTagName("tbody")[0],e=d.getElementsByTagName("tr"),f=Number(e[e.length-1].dataset.index),g=e[0],h=g.cloneNode(!0);h.dataset.index=f+1;var i=h.getElementsByTagName("input"),j=h.getElementsByTagName("select");[].forEach.call(i,function(a){"text"==a.type&&(a.value=""),"checkbox"==a.type&&(a.checked="");var b=a.name;a.name=b.replace(/r\d+-/,"r"+(f+1)+"-")}),[].forEach.call(j,function(a){a[0].selected="selected";var b=a.name;a.name=b.replace(/r\d+-/,"r"+(f+1)+"-")}),d.appendChild(h)}if("delete"==b.dataset.action){a.preventDefault();var k=b.parentNode.parentNode;k.parentNode.removeChild(k)}}};document.body.addEventListener("click",a,!1)}(),function(){var a=document.getElementById("loginForm");a&&a.addEventListener("submit",function(a){a.preventDefault(),console.log(this);var b=serializeFormData(this);atomic.post("/_bo/login.php",b).success(function(a,b){console.log(a),"success"===a.status?(showMessage("success","Great!","You are logged in"),setTimeout(function(){window.location="/_bo/"},1e3)):showMessage("error","Error","Incorrect login data")}).error(function(a,b){showMessage("error","Error","Server connection error")})},!1)}(),function(){var a=document.getElementsByClassName("controllers");a&&[].forEach.call(a,function(a){a.addEventListener("change",function(a){var b=a.target.selectedOptions[0].value,c=a.target.dataset.loopindex,d=document.getElementById("functions"+c),e=d.getElementsByTagName("optgroup");[].forEach.call(e,function(a){var c=d.getElementsByTagName("option")[0];c.selected="selected",a.dataset.optgroup==b?a.style.display="block":a.style.display="none"})},!1);var b=a.selectedOptions[0].value,c=a.dataset.loopindex,d=document.getElementById("functions"+c),e=d.getElementsByTagName("optgroup");[].forEach.call(e,function(a){a.dataset.optgroup==b?a.style.display="block":a.style.display="none"})})}();