function getURLParameter(a){return decodeURIComponent((new RegExp("[?|&]"+a+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[null,""])[1].replace(/\+/g,"%20"))||null}!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b:a.atomic=b(a)}(this,function(a){"use strict";var b={},c={contentType:"application/x-www-form-urlencoded"},d=function(a){var b;try{b=JSON.parse(a.responseText)}catch(c){b=a.responseText}return[b,a]},e=function(b,e,f){var g={success:function(){},error:function(){},always:function(){}},h=a.XMLHttpRequest||ActiveXObject,i=new h("MSXML2.XMLHTTP.3.0");i.open(b,e,!0),i.setRequestHeader("Content-type",c.contentType),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.onreadystatechange=function(){var a;4===i.readyState&&(a=d(i),i.status>=200&&i.status<300?g.success.apply(g,a):g.error.apply(g,a),g.always.apply(g,a))},i.send(f);var j={success:function(a){return g.success=a,j},error:function(a){return g.error=a,j},always:function(a){return g.always=a,j}};return j};return b.get=function(a){return e("GET",a)},b.put=function(a,b){return e("PUT",a,b)},b.post=function(a,b){return e("POST",a,b)},b["delete"]=function(a){return e("DELETE",a)},b.setContentType=function(a){c.contentType=a},b}),function(){var a=document.getElementsByClassName("mainNavigation")[0],b=a.getElementsByTagName("a"),c=document.getElementsByClassName("mainContent")[0];void 0===c&&console.log("No content block found. Add block classed 'mainContent' to your template.");var d=function(c){if(Array.prototype.forEach.call(b,function(a){a.parentNode.classList.remove("active")}),"A"===c.tagName)Array.prototype.forEach.call(b,function(a){console.log(a.href+" "+c.href),a.href==c.href&&a.parentNode.classList.add("active")});else if("string"==typeof c){var d=a.querySelector("a[title='"+c+"']");d.parentNode.classList.add("active")}},e=function(a){var b=document.title;b=b.split(" | "),document.title=b[0]+" | "+a},f=function(a){var b=a.href,c=a.title?a.title:a.innerText;e(c),window.history.pushState({url:""+b,title:""+c},c,b)},g=function(a){atomic.get(a).success(function(a,b){c.innerHTML=a}).error(function(){c.innerHTML="Page not found"})},h=function(a){var b="";void 0!==a.target&&"A"===a.target.tagName&&"true"==a.target.dataset.ajax?(a.preventDefault(),b=a.target.href,f(a.target),d(a.target),g(b)):void 0!==a.title&&(b=a.url,d(a.title),e(a.title),g(b))};f(a.getElementsByClassName("active")[0].getElementsByTagName("a")[0]),window.addEventListener("popstate",function(a){null!==a.state?h(a.state):window.history.back()}),c&&document.body.addEventListener("click",h,!1)}();